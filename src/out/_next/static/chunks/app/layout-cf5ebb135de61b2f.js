(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4435:function(e,t,r){Promise.resolve().then(r.bind(r,3256)),Promise.resolve().then(r.bind(r,5806)),Promise.resolve().then(r.t.bind(r,8330,23)),Promise.resolve().then(r.t.bind(r,8877,23))},3256:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return c}});var n=r(7437),o=r(2265),a=["light","dark"],s=o.createContext(void 0),u={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=o.useContext(s))?e:u};o.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:u,value:i,attrs:l,nonce:c})=>{let d="system"===u,m="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${l.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?(a.includes(u)?u:null)?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${u}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(e,t=!1,n=!0)=>{let o=i?i[e]:e,u=t?e+"|| ''":`'${o}'`,l="";return s&&n&&!t&&a.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===r?t||o?l+=`c.add(${u})`:l+="null":o&&(l+=`d[s](n,${u})`),l},g=e?`!function(){${m}${f(e)}}()`:n?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${d?"":"else{"+f(u,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(u,!1,!1)};}${h}}catch(t){}}();`;return o.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var l=r(1424);let c=e=>{let{...t}=e,{theme:r="system"}=i();return(0,n.jsx)(l.x7,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},5806:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return u},useAuth:function(){return i}});var n=r(7437),o=r(2265),a=r(6763);/**
 * @file auth-context.tsx
 * @route lib/auth-context.tsx
 * @description Contexto de autenticación para gestionar el estado del usuario en toda la app.
 * Proporciona información del usuario actual, rol y métodos de autenticación.
 * @author Kevin Mariano
 * @version 2.0.5
 * @since 1.0.0
 * @copyright MiauBloom
 */let s=(0,o.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,o.useState)(null),[i,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(!0),m=async e=>{let{data:t,error:r}=await a.O.from("perfiles").select("*").eq("id",e).maybeSingle();t&&!r&&l(t)},h=async()=>{r&&await m(r.id)};(0,o.useEffect)(()=>{let e=async()=>{var e;let{data:{session:t}}=await a.O.auth.getSession();u(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),(null==t?void 0:t.user)&&await m(t.user.id),d(!1)};e();let{data:{subscription:t}}=a.O.auth.onAuthStateChange(async(e,t)=>{var r;u(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),(null==t?void 0:t.user)?await m(t.user.id):l(null)});return()=>t.unsubscribe()},[]);let f=async(e,t)=>{let{error:r}=await a.O.auth.signInWithPassword({email:e,password:t});return{error:r}},g=async(e,t,r,n)=>{let{data:o,error:s}=await a.O.auth.signUp({email:e,password:t});if(s||!o.user)return{error:s};let{error:u}=await a.O.from("perfiles").insert({id:o.user.id,nombre_completo:r,rol:n,onboarding_completado:!1});return{error:u}},p=async()=>{await a.O.auth.signOut(),l(null)};return(0,n.jsx)(s.Provider,{value:{user:r,perfil:i,loading:c,signIn:f,signUp:g,signOut:p,refreshPerfil:h},children:t})}function i(){let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAuth debe usarse dentro de un AuthProvider");return e}},6763:function(e,t,r){"use strict";r.d(t,{O:function(){return s}});var n=r(5257);/**
 * @file supabase.ts
 * @route lib/supabase.ts
 * @description Cliente singleton de Supabase para toda la aplicación.
 * Maneja la conexión con la base de datos y autenticación.
 * @author Kevin Mariano
 * @version 2.0.5
 * @since 1.0.0
 * @copyright MiauBloom
 */let o="https://ycmzikcuwgmmymfcgjhe.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljbXppa2N1d2dtbXltZmNnamhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NTQ3NzcsImV4cCI6MjA3NTQzMDc3N30.alLSxOLNgfKV-7-8MhQ6vfE-ij1t2PvBDEeZK11-H04";if(!o||!a)throw Error("Faltan las variables de entorno de Supabase");let s=(0,n.eI)(o,a,{auth:{persistSession:!0,autoRefreshToken:!0}})},8877:function(){},8330:function(e){e.exports={style:{fontFamily:"'__Roboto_372368', '__Roboto_Fallback_372368'",fontStyle:"normal"},className:"__className_372368"}}},function(e){e.O(0,[849,424,971,864,744],function(){return e(e.s=4435)}),_N_E=e.O()}]);